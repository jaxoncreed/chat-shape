"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.visitorUnionSubTraverser = void 0;
const VisitorParentSubTraverser_1 = require("./VisitorParentSubTraverser");
async function visitorUnionSubTraverser(item, itemTypeName, globals) {
    const { traverserDefinition, visitors } = globals;
    const definition = traverserDefinition[itemTypeName];
    const visitor = visitors[itemTypeName];
    const itemSpecificTypeName = definition.selector(item);
    await Promise.all([
        visitor(item, globals.instanceGraph.getNodeFor(item, itemTypeName), globals.context),
        (0, VisitorParentSubTraverser_1.visitorParentSubTraverser)(item, itemSpecificTypeName, globals),
    ]);
}
exports.visitorUnionSubTraverser = visitorUnionSubTraverser;
//# sourceMappingURL=VisitorUnionSubTraverser.js.map