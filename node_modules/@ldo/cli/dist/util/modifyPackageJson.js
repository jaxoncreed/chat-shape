"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.modifyPackageJson = exports.savePackageJson = exports.getPackageJson = void 0;
const fs_extra_1 = __importDefault(require("fs-extra"));
const path_1 = __importDefault(require("path"));
async function getPackageJson(projectFolder) {
    return JSON.parse((await fs_extra_1.default.promises.readFile(path_1.default.join(projectFolder, "./package.json"))).toString());
}
exports.getPackageJson = getPackageJson;
async function savePackageJson(projectFolder, packageJson) {
    await fs_extra_1.default.promises.mkdir(projectFolder, { recursive: true });
    await fs_extra_1.default.promises.writeFile(path_1.default.join(projectFolder, "./package.json"), JSON.stringify(packageJson, null, 2));
}
exports.savePackageJson = savePackageJson;
async function modifyPackageJson(projectFolder, modifyCallback) {
    const packageJson = await getPackageJson(projectFolder);
    const newPackageJson = await modifyCallback(packageJson);
    await savePackageJson(projectFolder, newPackageJson);
}
exports.modifyPackageJson = modifyPackageJson;
//# sourceMappingURL=modifyPackageJson.js.map